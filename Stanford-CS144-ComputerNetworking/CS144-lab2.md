# CS144-ComputerNetworking-Lab2

> Stanford CS144 Introduction to Computer Network课程Project的lab2，这个lab主要任务是实现一个TCP的接收端TCPReceiver

## Overview

上一个lab中，我们实现了一个TCP接收端的流重组器，接下来的lab3就要我们实现整个TCP接收端的东西，相比于流重组器，TCP的接收端还要处理一些接收到的TCP报文段中的信息，并将数据交给流重组器进行处理，每个TCPReceiver实际上管理了一个流重组器。

同时接收端还需要告诉发送端一些重要的信息并以报文的形式返回，包括：

- 第一个没有进行整流的字节的索引，也被叫做`ackno`，这是接收端期望从发送端收到的第一个字节
- 第一个没有进行整流和第一个没有收到的索引之间的距离，这个距离也就是TCP的窗口大小，这是告诉发送端，发送出来的东西的大小不要超过窗口的大小。

上一次实验中给的一张图可以很好的表示这几个不同的索引之间的关系：

![image-20211231000601186](static/image-20211231000601186.png)

同时，`ackno`和窗口大小共同描述了接收端的窗口信息，告诉了发送方哪些东西是允许被发送的，通过这个窗口，接收端可以控制输入数据流的大小，并且让发送端控制发送的数据量，`ackno`实际上就是窗口的左端即开始的位置，而`ackno+window size`则是窗口的右端。